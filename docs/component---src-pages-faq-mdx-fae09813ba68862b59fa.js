"use strict";(self.webpackChunk_monodeploy_gatsby=self.webpackChunk_monodeploy_gatsby||[]).push([[701],{5851:function(e,a,o){o.r(a),o.d(a,{_frontmatter:function(){return s},default:function(){return p}});var n=o(9005),i=(o(3289),o(2967)),t=o(38),r=["components"],s={},l={_frontmatter:s},h=t.Z;function p(e){var a=e.components,o=(0,n.Z)(e,r);return(0,i.kt)(h,Object.assign({},l,o,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"faq",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h2",href:"#faq","aria-label":"faq permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"FAQ"),(0,i.kt)("h3",{id:"can-monodeploy-be-used-without-yarn-modernberry",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h3",href:"#can-monodeploy-be-used-without-yarn-modernberry","aria-label":"can monodeploy be used without yarn modernberry permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"Can Monodeploy be used without Yarn Modern/Berry?"),(0,i.kt)("p",null,"No. Monodeploy uses Yarn Modern's public API to do most of the heavy lifting in reading and writing to your project."),(0,i.kt)("h3",{id:"can-i-use-monodeploy-for-non-javascript-projects",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h3",href:"#can-i-use-monodeploy-for-non-javascript-projects","aria-label":"can i use monodeploy for non javascript projects permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"Can I use monodeploy for non-JavaScript projects?"),(0,i.kt)("p",null,"Yes. The only requirement is that you organize your project using Yarn Berry (i.e. Yarn v3+). You can create a minimal Yarn project by creating a root ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," and then one ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json"),' per package/workspace. In this scenario, you likely want to use the "No Registry" mode.'),(0,i.kt)("p",null,"Although designed for publishing to NPM, you can disable all npm interactions by passing in a ",(0,i.kt)("inlineCode",{parentName:"p"},"--registry-mode manifest")," flag to the CLI or setting ",(0,i.kt)("inlineCode",{parentName:"p"},"registryMode")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest")," in your config file. A registry mode of ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest"),' will set the package.json of each workspace as the source of truth for versions. This means when reading package versions, the package.json is used instead of reading from NPM. Likewise, package publishing to npm is also disabled. If using the "Manifest" registry mode, you should also enable ',(0,i.kt)("inlineCode",{parentName:"p"},"--persistVersions")," (",(0,i.kt)("inlineCode",{parentName:"p"},"persistVersions"),") and commit the modified package.json files to your repository, otherwise there's no proper reference for the package versions."),(0,i.kt)("h3",{id:"how-can-i-preview-changes-before-publishing",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h3",href:"#how-can-i-preview-changes-before-publishing","aria-label":"how can i preview changes before publishing permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"How can I preview changes before publishing?"),(0,i.kt)("p",null,"You can run:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"yarn monodeploy --dry-run --changeset-filename=-\n")),(0,i.kt)("p",null,"to implicitly disable logs and only output the changeset data. This is useful for previewing changes or determining which packages will be modified from a Pull Request."),(0,i.kt)("h3",{id:"packages-i-havent-modified-are-being-published-with-a-patch-version-bump-whats-going-on",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h3",href:"#packages-i-havent-modified-are-being-published-with-a-patch-version-bump-whats-going-on","aria-label":"packages i havent modified are being published with a patch version bump whats going on permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"Packages I haven't modified are being published with a patch version bump, what's going on?"),(0,i.kt)("p",null,"In addition to the version strategies associated with packages explicitly modified via your commits, what we call the ",(0,i.kt)("em",{parentName:"p"},"explicit version strategies"),", Monodeploy will also perform a patch version strategy bump to all dependent packages, what we call ",(0,i.kt)("em",{parentName:"p"},"implicit version strategies"),". The idea behind this is that when you run tests and do development in your monorepo, you are always working with the ",(0,i.kt)("em",{parentName:"p"},"latest")," packages. Therefore if Package-A depends on Package-B and Package-B has been modified, we also want to release a version of Package-A where Package-A's version range for Package-B has been increased. This Package-A that a downstream project consumes will then be guaranteed to be using the same version of Package-B that is used in the monorepo itself."),(0,i.kt)("p",null,"As an added benefit, downstream projects using systems like Renovate or Dependabot, will also receive updates for Package-A that will bring in the updated Package-B."),(0,i.kt)("p",null,"If there is a use case where you believe this behaviour is does not make sense, please open an issue and we'll be glad to discuss."),(0,i.kt)("p",null,"Note that when using package groups (equivalent of Lerna's fixed mode), the highest version strategy from among each group is chosen. In this case, you may find a dependent package with a minor or even major version bump, assuming such a strategy exists for an intentional bump within said group."),(0,i.kt)("h3",{id:"how-does-monodeploy-handle-private-packages",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h3",href:"#how-does-monodeploy-handle-private-packages","aria-label":"how does monodeploy handle private packages permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"How does Monodeploy handle private packages?"),(0,i.kt)("p",null,"Private packages, i.e. packages containing a ",(0,i.kt)("inlineCode",{parentName:"p"},"private: true")," field in their manifest, are includes as part of dependency graph traversal and in determining version strategies, but are not published to any registry. Monodeploy filters out private packages from git tag creation as well."),(0,i.kt)("p",null,"Note that the top level workspace is a special case. It is neither published, nor considered part of the dependency graph. In other words, all dependency paths are terminated at the top level workspace rather than traverse through this workspace."),(0,i.kt)("h3",{id:"how-can-i-manually-trigger-a-release-ie-ignore-commits",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h3",href:"#how-can-i-manually-trigger-a-release-ie-ignore-commits","aria-label":"how can i manually trigger a release ie ignore commits permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"How can I manually trigger a release (i.e. ignore commits)?"),(0,i.kt)("p",null,"Monodeploy is intended to be entirely automated based on semantic commits. As a result we have not prioritized any manual modes. If manual releases are what you prefer, you may be more interested in the official Yarn Version Plugin. Otherwise, feel free to open a GitHub issue to discuss."),(0,i.kt)("h3",{id:"how-can-i-achieve-behaviour-similar-to-lernas-fixed-version-mode",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h3",href:"#how-can-i-achieve-behaviour-similar-to-lernas-fixed-version-mode","aria-label":"how can i achieve behaviour similar to lernas fixed version mode permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"How can I achieve behaviour similar to Lerna's fixed version mode?"),(0,i.kt)("p",null,"Starting in Monodeploy v3, fixed version mode can be achieved by setting the ",(0,i.kt)("inlineCode",{parentName:"p"},"packageGroupManifestField"),' in your monodeploy configuration, or via the CLI argument. This config option should be set to some field in each workspace\'s manifest file to indicate fixed version grouping. For example, you can add a "group" field set to "components" for some workspaces and "utils" for other workspaces. Monodeploy will then ensure all workspaces with changes (or dependent changes) in the "components" group have the same version bump. To achieve fixed versioning of all workspaces, you need to specify a field that all workspaces have in common. You can also enforce this with the use of the Yarn Constraints plugin.'),(0,i.kt)("h3",{id:"how-does-monodeploy-differ-from",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h3",href:"#how-does-monodeploy-differ-from","aria-label":"how does monodeploy differ from permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"How does Monodeploy differ from:"),(0,i.kt)("h4",{id:"lerna",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h4",href:"#lerna","aria-label":"lerna permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"Lerna"),(0,i.kt)("p",null,"Unlike Lerna, Monodeploy was designed with Yarn Berry support from the ground up and is optimized for Yarn monorepos. In terms of raw functionality, Monodeploy supports a workflow where versions are ",(0,i.kt)("em",{parentName:"p"},"not")," committed back to the git repository. This is useful when it is not feasible to commit back to a repository in CI (for example when using a tool such as Jenkins with many concurrent developers working in a project)."),(0,i.kt)("h4",{id:"yarns-version-plugin",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h4",href:"#yarns-version-plugin","aria-label":"yarns version plugin permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"Yarn's Version Plugin"),(0,i.kt)("p",null,"At a high level, Monodeploy is meant for entirely automated workflows, whereas Yarn's version plugin takes a more hands on approach. Monodeploy started out as a Lerna replacement to solve some issues we were having internally with Lerna, and so Lerna's features were the ones we were striving to attain parity with. Read through the Yarn Version Plugin documentation and decide which workflow you prefer, there will be pros and cons to either."))}p.isMDXComponent=!0},9005:function(e,a,o){function n(e,a){if(null==e)return{};var o,n,i={},t=Object.keys(e);for(n=0;n<t.length;n++)o=t[n],a.indexOf(o)>=0||(i[o]=e[o]);return i}o.d(a,{Z:function(){return n}})}}]);
//# sourceMappingURL=component---src-pages-faq-mdx-fae09813ba68862b59fa.js.map